{% extends "../base.html" %}
{% block title %}Wishlist{% endblock %}
{% block content %}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet">

<main id="wishlist" style="max-width:960px; margin: 0 auto;">
    <div class="back text-center mb-3"><a href="#">&#11178; shop</a></div>
    <h1 class="text-center mb-4">Your Wishlist</h1>
    <div class="container-fluid">
        <div class="container my-5"> <!-- Centered container with margin -->
            <div class="row align-items-start">
                <div class="col-12 col-lg-10 mx-auto items"> <!-- Centering and allowing more space on large devices -->
                    {% for item in wishlist_items %}
                    <!-- Wishlist Item -->
                    <div class="wishlistItem row align-items-start mb-3">
                        <div class="col-12 col-sm-3 mb-2">
                            <img class="w-100" src="{{ item.product.image.url }}" alt="{{ item.product.name }}">
                        </div>
                        <div class="col-12 col-sm-5 mb-2">
                            <h6 class="">{{ item.product.name }}</h6>
                            <p class="pl-1 mb-0">Price: ${{ item.product.price }}</p>
                        </div>
                        <div class="col-12 col-sm-4 mb-2 d-flex justify-content-between align-items-center">
                            <p id="wishlistItem{{ item.id }}Price" class="mb-0">${{ item.product.price }}</p>
                            <button class="btn btn-primary btn-sm" onclick="moveToCart({{ item.id }})">Move to Cart</button>
                        </div>
                    </div>
                    <hr>
                    {% empty %}
                    <div class="col-12">
                        <p class="text-center">Your wishlist is empty.</p>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</main>

<footer class="container">
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.getElementById('btn-move-all').addEventListener('click', function() {
        // Implement AJAX call to move all items to cart
        console.log("Moving all items to cart");
    });
    function decreaseQuantity(itemId) {
    let quantityElement = document.getElementById(`quantity-${itemId}`);
    let quantity = parseInt(quantityElement.innerText);
    if (quantity > 1) {
        quantityElement.innerText = quantity - 1;
    }
}

function increaseQuantity(itemId) {
    let quantityElement = document.getElementById(`quantity-${itemId}`);
    let quantity = parseInt(quantityElement.innerText);
    quantityElement.innerText = quantity + 1;
}

function moveToCart(itemId) {
    // Implement the logic to move the item to the cart
    alert(`Move item ${itemId} to cart`);
}
</script>

{% endblock %}